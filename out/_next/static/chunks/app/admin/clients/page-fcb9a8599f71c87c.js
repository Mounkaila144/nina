(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{1285:function(e,t,a){Promise.resolve().then(a.bind(a,176))},176:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var s=a(7437),r=a(2265),l=a(3944),i=a(4885),n=a(3017),o=a(3542),d=(0,a(9408).Z)((0,s.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),c=a(6746),m=a(5215),u=a(9305),x=a(8504),g=a(9417);function b(){let[e,t]=(0,r.useState)([]),[a,b]=(0,r.useState)(!0),[p,h]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!1),[N,v]=(0,r.useState)(null),[j,w]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",birthDate:"",gender:"M",address:"",city:"",postalCode:"",notes:""}),[C,D]=(0,r.useState)({}),[S,k]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!1),{toasts:Z,removeToast:E,success:P,error:V}=(0,g.pm)();(0,r.useEffect)(()=>{F()},[]);let F=async()=>{b(!0);try{await new Promise(e=>setTimeout(e,1e3)),t([{id:"1",firstName:"Marie",lastName:"Dubois",email:"marie.dubois@email.com",phone:"06 12 34 56 78",birthDate:"1985-03-15",gender:"F",address:"123 Rue de la Paix",city:"Paris",postalCode:"75001",registrationDate:"2024-01-15",lastVisit:"2024-03-10",totalSpent:450,status:"active"},{id:"2",firstName:"Jean",lastName:"Martin",email:"jean.martin@email.com",phone:"06 98 76 54 32",birthDate:"1978-07-22",gender:"M",address:"456 Avenue des Champs",city:"Lyon",postalCode:"69001",registrationDate:"2024-02-01",lastVisit:"2024-03-08",totalSpent:320,status:"active"},{id:"3",firstName:"Sophie",lastName:"Bernard",email:"sophie.bernard@email.com",phone:"06 11 22 33 44",birthDate:"1992-11-08",gender:"F",address:"789 Boulevard Saint-Germain",city:"Marseille",postalCode:"13001",registrationDate:"2024-01-20",totalSpent:180,status:"inactive"}])}catch(e){V("Erreur","Impossible de charger les clients")}finally{b(!1)}},q=[{key:"firstName",label:"Pr\xe9nom",sortable:!0,render:(e,t)=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,s.jsx)(m.Z,{className:"h-4 w-4 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium text-gray-900",children:[t.firstName," ",t.lastName]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:"M"===t.gender?"Homme":"Femme"})]})]})},{key:"email",label:"Contact",render:(e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),t.email]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[(0,s.jsx)(d,{className:"h-4 w-4 mr-1 text-gray-400"}),t.phone]})]})},{key:"city",label:"Ville",sortable:!0},{key:"registrationDate",label:"Inscription",sortable:!0,render:e=>new Date(e).toLocaleDateString("fr-FR")},{key:"lastVisit",label:"Derni\xe8re visite",sortable:!0,render:e=>e?new Date(e).toLocaleDateString("fr-FR"):"Jamais"},{key:"totalSpent",label:"Total d\xe9pens\xe9",sortable:!0,align:"right",render:e=>"â‚¬".concat(e)},{key:"status",label:"Statut",sortable:!0,render:e=>(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===e?"Actif":"Inactif"})}],T=[{label:"Voir",icon:(0,s.jsx)(o.Z,{className:"h-4 w-4"}),onClick:e=>{console.log("Voir client:",e)},color:"secondary"},{label:"Modifier",icon:(0,s.jsx)(i.Z,{className:"h-4 w-4"}),onClick:e=>{v(e),w({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,birthDate:e.birthDate,gender:e.gender,address:e.address,city:e.city,postalCode:e.postalCode,notes:e.notes||""}),h(!0)}},{label:"Supprimer",icon:(0,s.jsx)(n.Z,{className:"h-4 w-4"}),onClick:e=>{v(e),y(!0)},color:"danger"}],O=()=>{let e={};return j.firstName.trim()||(e.firstName="Le pr\xe9nom est requis"),j.lastName.trim()||(e.lastName="Le nom est requis"),j.email.trim()?/\S+@\S+\.\S+/.test(j.email)||(e.email="Format d'email invalide"):e.email="L'email est requis",j.phone.trim()||(e.phone="Le t\xe9l\xe9phone est requis"),j.birthDate||(e.birthDate="La date de naissance est requise"),j.city.trim()||(e.city="La ville est requise"),j.postalCode.trim()||(e.postalCode="Le code postal est requis"),D(e),0===Object.keys(e).length},_=async e=>{if(e.preventDefault(),O()){k(!0);try{if(await new Promise(e=>setTimeout(e,1e3)),N)t(e=>e.map(e=>e.id===N.id?{...e,...j}:e)),P("Client modifi\xe9","Les informations du client ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s");else{let e={id:Date.now().toString(),...j,registrationDate:new Date().toISOString().split("T")[0],totalSpent:0,status:"active"};t(t=>[...t,e]),P("Client ajout\xe9","Le nouveau client a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s")}h(!1)}catch(e){V("Erreur","Une erreur est survenue lors de l'enregistrement")}finally{k(!1)}}},I=async()=>{if(N){M(!0);try{await new Promise(e=>setTimeout(e,1e3)),t(e=>e.filter(e=>e.id!==N.id)),P("Client supprim\xe9","Le client a \xe9t\xe9 supprim\xe9 avec succ\xe8s"),y(!1)}catch(e){V("Erreur","Une erreur est survenue lors de la suppression")}finally{M(!1)}}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Clients"}),(0,s.jsx)("p",{className:"text-gray-300 mt-1",children:"Gestion de votre client\xe8le"})]}),(0,s.jsxs)("button",{onClick:()=>{v(null),w({firstName:"",lastName:"",email:"",phone:"",birthDate:"",gender:"M",address:"",city:"",postalCode:"",notes:""}),D({}),h(!0)},className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg",children:[(0,s.jsx)(l.Z,{className:"mr-2 h-4 w-4"}),"Nouveau client"]})]}),(0,s.jsx)(u.Z,{data:e,columns:q,actions:T,loading:a,onRefresh:F,onExport:e=>{console.log("Export:",e)}}),(0,s.jsx)(x.Z,{isOpen:p,onClose:()=>h(!1),title:N?"Modifier le client":"Nouveau client",size:"lg",children:(0,s.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Pr\xe9nom *"}),(0,s.jsx)("input",{type:"text",value:j.firstName,onChange:e=>w(t=>({...t,firstName:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all ".concat(C.firstName?"border-red-500":"border-gray-600")}),C.firstName&&(0,s.jsx)("p",{className:"text-sm text-red-300 mt-1",children:C.firstName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nom *"}),(0,s.jsx)("input",{type:"text",value:j.lastName,onChange:e=>w(t=>({...t,lastName:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all ".concat(C.lastName?"border-red-500":"border-gray-600")}),C.lastName&&(0,s.jsx)("p",{className:"text-sm text-red-300 mt-1",children:C.lastName})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email *"}),(0,s.jsx)("input",{type:"email",value:j.email,onChange:e=>w(t=>({...t,email:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all ".concat(C.email?"border-red-500":"border-gray-600")}),C.email&&(0,s.jsx)("p",{className:"text-sm text-red-300 mt-1",children:C.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"T\xe9l\xe9phone *"}),(0,s.jsx)("input",{type:"tel",value:j.phone,onChange:e=>w(t=>({...t,phone:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all ".concat(C.phone?"border-red-500":"border-gray-600")}),C.phone&&(0,s.jsx)("p",{className:"text-sm text-red-300 mt-1",children:C.phone})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date de naissance *"}),(0,s.jsx)("input",{type:"date",value:j.birthDate,onChange:e=>w(t=>({...t,birthDate:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all ".concat(C.birthDate?"border-red-500":"border-gray-600")}),C.birthDate&&(0,s.jsx)("p",{className:"text-sm text-red-300 mt-1",children:C.birthDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Genre"}),(0,s.jsxs)("select",{value:j.gender,onChange:e=>w(t=>({...t,gender:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",children:[(0,s.jsx)("option",{value:"M",children:"Homme"}),(0,s.jsx)("option",{value:"F",children:"Femme"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Adresse"}),(0,s.jsx)("input",{type:"text",value:j.address,onChange:e=>w(t=>({...t,address:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Ville *"}),(0,s.jsx)("input",{type:"text",value:j.city,onChange:e=>w(t=>({...t,city:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all ".concat(C.city?"border-red-500":"border-gray-600")}),C.city&&(0,s.jsx)("p",{className:"text-sm text-red-300 mt-1",children:C.city})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Code postal *"}),(0,s.jsx)("input",{type:"text",value:j.postalCode,onChange:e=>w(t=>({...t,postalCode:e.target.value})),className:"w-full px-3 py-2 bg-gray-700 border rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all ".concat(C.postalCode?"border-red-500":"border-gray-600")}),C.postalCode&&(0,s.jsx)("p",{className:"text-sm text-red-300 mt-1",children:C.postalCode})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),(0,s.jsx)("textarea",{value:j.notes,onChange:e=>w(t=>({...t,notes:e.target.value})),rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Notes sur le client..."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>h(!1),disabled:S,className:"px-4 py-2 border border-gray-600 rounded-lg text-gray-300 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 transition-colors",children:"Annuler"}),(0,s.jsx)("button",{type:"submit",disabled:S,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 transition-all duration-200 shadow-lg",children:S?"Enregistrement...":N?"Modifier":"Cr\xe9er"})]})]})}),(0,s.jsx)(x.s,{isOpen:f,onClose:()=>y(!1),onConfirm:I,title:"Supprimer le client",message:"\xcates-vous s\xfbr de vouloir supprimer le client ".concat(null==N?void 0:N.firstName," ").concat(null==N?void 0:N.lastName," ? Cette action est irr\xe9versible."),confirmText:"Supprimer",type:"danger",loading:L}),(0,s.jsx)(g.Ix,{toasts:Z,onClose:E})]})}},6746:function(e,t,a){"use strict";var s=a(9408),r=a(7437);t.Z=(0,s.Z)((0,r.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},5215:function(e,t,a){"use strict";var s=a(9408),r=a(7437);t.Z=(0,s.Z)((0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")}},function(e){e.O(0,[408,942,971,864,744],function(){return e(e.s=1285)}),_N_E=e.O()}]);